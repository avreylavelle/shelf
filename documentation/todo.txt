Shelf Roadmap (Current)

ML per-user (Next milestone)
Phase 1 — Data model
- Add tables: user_interactions, item_features, user_feature_cache, user_recommendation_history
- Migrations + indexes

Phase 2 — Item features
- Build one-hot genre/theme vectors
- (Optional later) add text vectors from title/description
- Store sparse vectors in item_features

Phase 3 — User vector
- Aggregate ratings/reading/DNR/clicks into a per-user vector
- Cache with last_event_id / updated_at

Phase 4 — Ranking blend
- Score candidates with cosine similarity
- Blend with existing combined_score
- Fallback to baseline when sparse

Phase 5 — Feedback loop
- Log shown items
- Add light exposure decay to reduce repeats

Phase 6 — Controls & tuning
- Personalize toggle + env weight knobs (ml_weight)
- Basic debug snapshot for user vector

Content expansion (In progress)
- Audit ID normalization across datasets; fill any remaining gaps
- Cross-type recommendations (manga → novel, etc.)
- Per-type filters + UI tabs

Discovery & Social (Optional)
- Explore page: trending/top/seasonal
- Public lists + shareable profile
- Follows/likes

Notes
- Reroll intentionally disabled (to be replaced by ML parameter randomization later).
- Baseline recommender remains available and transparent.
